import{d as V,W as _,r as f,aZ as h,u as y,a_ as b,o as x,c as k,a as F,e as t,w as u,f as R,a$ as q,E as B,_ as C}from"./index-JW4S68gQ.js";import{E as I,a as U}from"./el-form-item-e4Egdf4c.js";import{E as $}from"./el-input-hse5MHjA.js";import z from"./Title-Wl-ffsVh.js";import"./_initCloneObject-zd4qrdcb.js";const E={class:"login-form-wrap"},N={class:"login-form"},T=V({__name:"index",setup(W){const s=_({name:"admin",password:"123456"}),g=_({name:[{required:!0,message:"请输入账号名"}],password:[{required:!0,message:"请输入账号名"}]}),m=f(null),d=f(!1),w=h(),p=y(),c=b(),v=n=>{n&&(n==null||n.validate().then(async o=>{var r,l;if(o){d.value=!0;try{const e=await q(s);if(d.value=!1,(e==null?void 0:e.code)===200)if(w.setToken(e==null?void 0:e.data.token),!((r=c.query)!=null&&r.redirect))p.push("/");else{const a=decodeURIComponent((l=c.query)==null?void 0:l.redirect);a!=null&&a.startsWith("http")?location.href=a:p.push(a)}}catch(e){d.value=!1,console.log("submit error",e)}}}))};return(n,o)=>{const r=$,l=I,e=B,a=U;return x(),k("div",E,[F("div",N,[t(z),t(a,{"label-position":"top",ref_key:"loginFormRef",ref:m,rules:g,model:s},{default:u(()=>[t(l,{label:"账号名",prop:"name",size:"large"},{default:u(()=>[t(r,{modelValue:s.name,"onUpdate:modelValue":o[0]||(o[0]=i=>s.name=i),placeholder:"请输入账号名"},null,8,["modelValue"])]),_:1}),t(l,{label:"密码",prop:"password",size:"large"},{default:u(()=>[t(r,{modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=i=>s.password=i),"show-password":"",type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),t(l,null,{default:u(()=>[t(e,{size:"large",type:"primary",loading:d.value,onClick:o[2]||(o[2]=i=>v(m.value))},{default:u(()=>[R("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["rules","model"])])])}}}),G=C(T,[["__scopeId","data-v-5884797b"]]);export{G as default};
